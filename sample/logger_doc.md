# logger_doc

参考文章

1. [bash:tip_colors_and_formatting](https://misc.flogisoft.com/bash/tip_colors_and_formatting)
    - bash shell下的颜色显示设置

实现了日志的彩色打印和分级打印, 使用方法见[logger_test.sh](./logger_test.sh).

![](../assets/logger-01.png)

## 基础知识

bash的颜色打印应该是按照输出字符的特定前缀进行捕获的, 完整的颜色格式如下

```
\033[显示方式;前景色;背景色m
```

显示方式, 前景色与背景色都为数值类型. 其中分号是为了分隔中文, 实际是不应存在的.

**显示方式取值:**

- `0`: 终端默认设置; 
- `1`: 高亮显示; 
- `4`: 使用下划线; 
- `5`: 闪烁; 
- `7`: 反白显示; 
- `8`: 不可见;

**前景色取值:**

- `30`: 黑色(black); 
- `31`: 红色(red); 
- `32`: 绿色(green); 
- `33`: 黄色(yellow); 
- `34`: 蓝色(blue); 
- `35`: 紫红(purple); 
- `36`: 青色(cyan); 
- `37`: 白色(white);

**背景色取值:**
 
- `40`: 黑色(black); 
- `41`: 红色(red); 
- `42`: 绿色(green); 
- `43`: 黄色(yellow); 
- `44`: 蓝色(blue); 
- `45`: 紫红(purple); 
- `46`: 青色(cyan); 
- `47`: 白色(white);

## 示例

echo的`-e`选项可以避免转义目标字符中的反斜线.

在实验时, 我发现显示模式, 前景色与背景色的覆盖方式不太一样, 不过目前不想深究. 只要知道在颜色打印完成后, 需要使用`\033[0m`将颜色设置关闭, 否则会出现下面的情况.

```
echo -e '\033[32m'
echo '之后的打印信息都会是这种效果'
```

![](../assets/logger-11.png)

```
echo -e '\033[0m'
echo '这样才能恢复正常'
```

![](../assets/logger-12.png)
